<view class="page">
  <view class="card fade-in-up">
    <text class="section-title">阅读体验</text>
    <text class="section-desc">为爸妈阅读做优化，字号和触控会一起放大</text>

    <view class="setting-row">
      <text class="setting-label">长辈模式</text>
      <switch checked="{{settings.elderMode}}" bindchange="onToggleElderMode" color="#1677FF" />
    </view>

    <view class="setting-block">
      <text class="setting-label">字体倍率：{{settings.fontScale}}</text>
      <slider min="1" max="1.4" step="0.1" value="{{settings.fontScale}}" bindchange="onFontScaleChange" activeColor="#1677FF" />
    </view>

    <view class="setting-block">
      <text class="setting-label">历史保留天数：{{settings.retentionDays}}</text>
      <slider min="7" max="90" step="1" value="{{settings.retentionDays}}" bindchange="onRetentionChange" activeColor="#1677FF" />
    </view>
  </view>

  <view class="card fade-in-up">
    <text class="section-title">连接配置</text>
    <text class="section-desc">本地联调推荐：http://127.0.0.1:3300</text>

    <text class="setting-label">后端地址</text>
    <input class="input-shell api-input" value="{{settings.apiBaseUrl}}" bindinput="onApiBaseUrlInput" placeholder="例如 http://127.0.0.1:3300" />
    <button class="btn primary full" bindtap="onSave">保存设置</button>
  </view>

  <view class="card fade-in-up danger-card">
    <text class="section-title">数据管理</text>
    <text class="section-desc">清空后无法恢复，请谨慎操作</text>
    <button class="btn danger-ghost full" bindtap="onClearHistory">清空历史记录</button>
  </view>
</view>
