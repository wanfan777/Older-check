# 微信开发者工具配置（双项目并存）

本仓库采用“双项目并存”结构：

- 仓库根目录：后端与文档（`api/`、`docs/`）
- 小程序目录：`miniapp/`

## 一次性修复 `app.json` 报错

当你看到下面报错时：

- `app.json: 在项目根目录未找到 app.json`

说明你导入了仓库根目录，而不是小程序目录。

按以下步骤修复：

1. 在微信开发者工具关闭当前项目（根目录项目）。
2. 在项目列表中删除该错误项目记录（避免下次误开）。
3. 点击“导入”并选择目录：`/Users/fan/Documents/miniprogram/miniapp`。
4. 确认导入后不再出现 `app.json` 缺失报错。

## 本地联调推荐设置

1. 在开发者工具中打开：
2. `详情` -> `本地设置`。
3. 勾选：`不校验合法域名、web-view、TLS 版本及 HTTPS 证书`（仅开发环境）。
4. 启动后端（默认 3300 端口）：

```bash
cd api
npm run dev
```

5. 在小程序设置页把后端地址设置为：`http://127.0.0.1:3300`。

## 验收清单

1. 控制台不再出现 `在项目根目录未找到 app.json`。
2. 首页正常显示“家庭信息鉴别助手”。
3. 提交文本可进入结果页。
4. 若后端未启动，显示网络错误提示，而不是编译错误。
